var pl=Object.defineProperty,Vl=Object.defineProperties;var ql=Object.getOwnPropertyDescriptors;var Mt=Object.getOwnPropertySymbols;var Ml=Object.prototype.hasOwnProperty,_l=Object.prototype.propertyIsEnumerable;var _t=(e,l,n)=>l in e?pl(e,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[l]=n,z=(e,l)=>{for(var n in l||(l={}))Ml.call(l,n)&&_t(e,n,l[n]);if(Mt)for(var n of Mt(l))_l.call(l,n)&&_t(e,n,l[n]);return e},ae=(e,l)=>Vl(e,ql(l));import{i as Al,x as ge,J as ee,o as Ce,a6 as Rl,m as s,n as g,r as D,a7 as jt,a8 as Bl,a9 as Nt,z as Se,N as re,aa as Kt,ab as Ut,K as Qt,M as El,y as xe,T as ut,ac as Zt,u as ye,L as Fl,ad as zl,ae as Oe,af as Il,p as Ol,U as Tl}from"./index.554559ed.js";import{e as Wt,c as Fe,d as Xt,g as Yt,f as $e,Q as Be,k as $l,l as Pl,h as Ll}from"./QIcon.17728b5e.js";import{q as st,w as Hl,u as Dl,h as jl,a as Nl,b as Kl,j as Ul,n as Ql,d as Zl}from"./position-engine.af2acb50.js";import{b as Wl,R as Xl}from"./QBtn.64a2f992.js";import{u as Jt,a as Gt}from"./use-dark.4190d64b.js";import{b as Yl,u as Jl,r as At,c as Rt,a as Gl,d as en,e as tn,Q as ln,n as Bt}from"./use-prevent-scroll.de141688.js";import{a as nn,Q as on}from"./QItemSection.dd961fec.js";import{Q as an,g as un,p as rn}from"./api.ce0b47e6.js";function sn({validate:e,resetValidation:l,requiresQForm:n}){const u=Al(Rl,!1);if(u!==!1){const{props:S,proxy:a}=ge();Object.assign(a,{validate:e,resetValidation:l}),ee(()=>S.disable,v=>{v===!0?(typeof l=="function"&&l(),u.unbindComponent(a)):u.bindComponent(a)}),S.disable!==!0&&u.bindComponent(a),Ce(()=>{S.disable!==!0&&u.unbindComponent(a)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Et=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Ft=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,zt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Ke=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Ue=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,It={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Et.test(e),hexaColor:e=>Ft.test(e),hexOrHexaColor:e=>zt.test(e),rgbColor:e=>Ke.test(e),rgbaColor:e=>Ue.test(e),rgbOrRgbaColor:e=>Ke.test(e)||Ue.test(e),hexOrRgbColor:e=>Et.test(e)||Ke.test(e),hexaOrRgbaColor:e=>Ft.test(e)||Ue.test(e),anyColor:e=>zt.test(e)||Ke.test(e)||Ue.test(e)};"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(e=>{e.toLowerCase()});const cn=ae(z({},Wt),{min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean}),it=50,el=2*it,tl=el*Math.PI,dn=Math.round(tl*1e3)/1e3;Fe({name:"QCircularProgress",props:ae(z({},cn),{value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean}),setup(e,{slots:l}){const{proxy:{$q:n}}=ge(),u=Xt(e),S=s(()=>{const B=(n.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-B}deg)`:`rotate3d(0, 0, 1, ${B-90}deg)`}}),a=s(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),v=s(()=>el/(1-e.thickness/2)),V=s(()=>`${v.value/2} ${v.value/2} ${v.value} ${v.value}`),y=s(()=>Yl(e.value,e.min,e.max)),q=s(()=>tl*(1-(y.value-e.min)/(e.max-e.min))),h=s(()=>e.thickness/2*v.value);function R({thickness:B,offset:M,color:P,cls:U}){return g("circle",{class:"q-circular-progress__"+U+(P!==void 0?` text-${P}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":B,"stroke-dasharray":dn,"stroke-dashoffset":M,cx:v.value,cy:v.value,r:it})}return()=>{const B=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&B.push(g("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:it-h.value/2,cx:v.value,cy:v.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&B.push(R({cls:"track",thickness:h.value,offset:0,color:e.trackColor})),B.push(R({cls:"circle",thickness:h.value,offset:q.value,color:e.color}));const M=[g("svg",{class:"q-circular-progress__svg",style:S.value,viewBox:V.value,"aria-hidden":"true"},B)];return e.showValue===!0&&M.push(g("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},l.default!==void 0?l.default():[g("div",y.value)])),g("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:u.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:y.value},Yt(l.internal,M))}}});const fn=["rejected"],vn=[...fn,"start","finish","added","removed"],mn=()=>!0;function gn(e){const l={};return e.forEach(n=>{l[n]=mn}),l}gn(vn);let ot,Qe=0;const ie=new Array(256);for(let e=0;e<256;e++)ie[e]=(e+256).toString(16).substring(1);const hn=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return l=>{const n=new Uint8Array(l);return e.getRandomValues(n),n}}return l=>{const n=[];for(let u=l;u>0;u--)n.push(Math.floor(Math.random()*256));return n}})(),Ot=4096;function Sn(){(ot===void 0||Qe+16>Ot)&&(Qe=0,ot=hn(Ot));const e=Array.prototype.slice.call(ot,Qe,Qe+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,ie[e[0]]+ie[e[1]]+ie[e[2]]+ie[e[3]]+"-"+ie[e[4]]+ie[e[5]]+"-"+ie[e[6]]+ie[e[7]]+"-"+ie[e[8]]+ie[e[9]]+"-"+ie[e[10]]+ie[e[11]]+ie[e[12]]+ie[e[13]]+ie[e[14]]+ie[e[15]]}const yn=[!0,!1,"ondemand"],bn={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>yn.includes(e)}};function wn(e,l){const{props:n,proxy:u}=ge(),S=D(!1),a=D(null),v=D(null);sn({validate:P,resetValidation:M});let V=0,y;const q=s(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length>0),h=s(()=>n.disable!==!0&&q.value===!0),R=s(()=>n.error===!0||S.value===!0),B=s(()=>typeof n.errorMessage=="string"&&n.errorMessage.length>0?n.errorMessage:a.value);ee(()=>n.modelValue,()=>{U()}),ee(()=>n.reactiveRules,W=>{W===!0?y===void 0&&(y=ee(()=>n.rules,()=>{U(!0)})):y!==void 0&&(y(),y=void 0)},{immediate:!0}),ee(e,W=>{W===!0?v.value===null&&(v.value=!1):v.value===!1&&(v.value=!0,h.value===!0&&n.lazyRules!=="ondemand"&&l.value===!1&&_())});function M(){V++,l.value=!1,v.value=null,S.value=!1,a.value=null,_.cancel()}function P(W=n.modelValue){if(h.value!==!0)return!0;const Q=++V;l.value!==!0&&n.lazyRules!==!0&&(v.value=!0);const X=(I,i)=>{S.value!==I&&(S.value=I);const c=i||void 0;a.value!==c&&(a.value=c),l.value=!1},T=[];for(let I=0;I<n.rules.length;I++){const i=n.rules[I];let c;if(typeof i=="function"?c=i(W):typeof i=="string"&&It[i]!==void 0&&(c=It[i](W)),c===!1||typeof c=="string")return X(!0,c),!1;c!==!0&&c!==void 0&&T.push(c)}return T.length===0?(X(!1),!0):(l.value=!0,Promise.all(T).then(I=>{if(I===void 0||Array.isArray(I)===!1||I.length===0)return Q===V&&X(!1),!0;const i=I.find(c=>c===!1||typeof c=="string");return Q===V&&X(i!==void 0,i),i===void 0},I=>(Q===V&&(console.error(I),X(!0)),!1)))}function U(W){h.value===!0&&n.lazyRules!=="ondemand"&&(v.value===!0||n.lazyRules!==!0&&W!==!0)&&_()}const _=jt(P,0);return Ce(()=>{y!==void 0&&y(),_.cancel()}),Object.assign(u,{resetValidation:M,validate:P}),Bl(u,"hasError",()=>R.value),{isDirtyModel:v,hasRules:q,hasError:R,errorMessage:B,validate:P,resetValidation:M}}const Tt=/^on[A-Z]/;function kn(e,l){const n={listeners:D({}),attributes:D({})};function u(){const S={},a={};for(const v in e)v!=="class"&&v!=="style"&&Tt.test(v)===!1&&(S[v]=e[v]);for(const v in l.props)Tt.test(v)===!0&&(a[v]=l.props[v]);n.attributes.value=S,n.listeners.value=a}return Nt(u),u(),n}function rt(e){return e===void 0?`f_${Sn()}`:e}function Pe(e){return e!=null&&(""+e).length>0}const Ye=ae(z(z({},Jt),bn),{label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]}),ct=["update:modelValue","clear","focus","blur","popup-show","popup-hide"];function dt(){const{props:e,attrs:l,proxy:n,vnode:u}=ge();return{isDark:Gt(e,n.$q),editable:s(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:D(!1),focused:D(!1),hasPopupOpen:!1,splitAttrs:kn(l,u),targetUid:D(rt(e.for)),rootRef:D(null),targetRef:D(null),controlRef:D(null)}}function ft(e){const{props:l,emit:n,slots:u,attrs:S,proxy:a}=ge(),{$q:v}=a;let V;e.hasValue===void 0&&(e.hasValue=s(()=>Pe(l.modelValue))),e.emitValue===void 0&&(e.emitValue=r=>{n("update:modelValue",r)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:p,onFocusout:x}),Object.assign(e,{clearValue:w,onControlFocusin:p,onControlFocusout:x,focus:c}),e.computedCounter===void 0&&(e.computedCounter=s(()=>{if(l.counter!==!1){const r=typeof l.modelValue=="string"||typeof l.modelValue=="number"?(""+l.modelValue).length:Array.isArray(l.modelValue)===!0?l.modelValue.length:0,F=l.maxlength!==void 0?l.maxlength:l.maxValues;return r+(F!==void 0?" / "+F:"")}}));const{isDirtyModel:y,hasRules:q,hasError:h,errorMessage:R,resetValidation:B}=wn(e.focused,e.innerLoading),M=e.floatingLabel!==void 0?s(()=>l.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):s(()=>l.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),P=s(()=>l.bottomSlots===!0||l.hint!==void 0||q.value===!0||l.counter===!0||l.error!==null),U=s(()=>l.filled===!0?"filled":l.outlined===!0?"outlined":l.borderless===!0?"borderless":l.standout?"standout":"standard"),_=s(()=>`q-field row no-wrap items-start q-field--${U.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(l.rounded===!0?" q-field--rounded":"")+(l.square===!0?" q-field--square":"")+(M.value===!0?" q-field--float":"")+(Q.value===!0?" q-field--labeled":"")+(l.dense===!0?" q-field--dense":"")+(l.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(h.value===!0?" q-field--error":"")+(h.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(l.hideBottomSpace!==!0&&P.value===!0?" q-field--with-bottom":"")+(l.disable===!0?" q-field--disabled":l.readonly===!0?" q-field--readonly":"")),W=s(()=>"q-field__control relative-position row no-wrap"+(l.bgColor!==void 0?` bg-${l.bgColor}`:"")+(h.value===!0?" text-negative":typeof l.standout=="string"&&l.standout.length>0&&e.focused.value===!0?` ${l.standout}`:l.color!==void 0?` text-${l.color}`:"")),Q=s(()=>l.labelSlot===!0||l.label!==void 0),X=s(()=>"q-field__label no-pointer-events absolute ellipsis"+(l.labelColor!==void 0&&h.value!==!0?` text-${l.labelColor}`:"")),T=s(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:M.value,modelValue:l.modelValue,emitValue:e.emitValue})),I=s(()=>{const r={for:e.targetUid.value};return l.disable===!0?r["aria-disabled"]="true":l.readonly===!0&&(r["aria-readonly"]="true"),r});ee(()=>l.for,r=>{e.targetUid.value=rt(r)});function i(){const r=document.activeElement;let F=e.targetRef!==void 0&&e.targetRef.value;F&&(r===null||r.id!==e.targetUid.value)&&(F.hasAttribute("tabindex")===!0||(F=F.querySelector("[tabindex]")),F&&F!==r&&F.focus({preventScroll:!0}))}function c(){st(i)}function C(){Hl(i);const r=document.activeElement;r!==null&&e.rootRef.value.contains(r)&&r.blur()}function p(r){clearTimeout(V),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",r))}function x(r,F){clearTimeout(V),V=setTimeout(()=>{document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1)||(e.focused.value===!0&&(e.focused.value=!1,n("blur",r)),F!==void 0&&F())})}function w(r){Se(r),v.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),l.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",l.modelValue),re(()=>{B(),v.platform.is.mobile!==!0&&(y.value=!1)})}function L(){const r=[];return u.prepend!==void 0&&r.push(g("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:xe},u.prepend())),r.push(g("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},E())),h.value===!0&&l.noErrorIcon===!1&&r.push(J("error",[g(Be,{name:v.iconSet.field.error,color:"negative"})])),l.loading===!0||e.innerLoading.value===!0?r.push(J("inner-loading-append",u.loading!==void 0?u.loading():[g(Wl,{color:l.color})])):l.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&r.push(J("inner-clearable-append",[g(Be,{class:"q-field__focusable-action",tag:"button",name:l.clearIcon||v.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:w})])),u.append!==void 0&&r.push(g("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:xe},u.append())),e.getInnerAppend!==void 0&&r.push(J("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&r.push(e.getControlChild()),r}function E(){const r=[];return l.prefix!==void 0&&l.prefix!==null&&r.push(g("div",{class:"q-field__prefix no-pointer-events row items-center"},l.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&r.push(e.getShadowControl()),e.getControl!==void 0?r.push(e.getControl()):u.rawControl!==void 0?r.push(u.rawControl()):u.control!==void 0&&r.push(g("div",ae(z({ref:e.targetRef,class:"q-field__native row"},e.splitAttrs.attributes.value),{"data-autofocus":l.autofocus===!0||void 0}),u.control(T.value))),Q.value===!0&&r.push(g("div",{class:X.value},$e(u.label,l.label))),l.suffix!==void 0&&l.suffix!==null&&r.push(g("div",{class:"q-field__suffix no-pointer-events row items-center"},l.suffix)),r.concat($e(u.default))}function N(){let r,F;h.value===!0?R.value!==null?(r=[g("div",{role:"alert"},R.value)],F=`q--slot-error-${R.value}`):(r=$e(u.error),F="q--slot-error"):(l.hideHint!==!0||e.focused.value===!0)&&(l.hint!==void 0?(r=[g("div",l.hint)],F=`q--slot-hint-${l.hint}`):(r=$e(u.hint),F="q--slot-hint"));const f=l.counter===!0||u.counter!==void 0;if(l.hideBottomSpace===!0&&f===!1&&r===void 0)return;const H=g("div",{key:F,class:"q-field__messages col"},r);return g("div",{class:"q-field__bottom row items-start q-field__bottom--"+(l.hideBottomSpace!==!0?"animated":"stale")},[l.hideBottomSpace===!0?H:g(ut,{name:"q-transition--field-message"},()=>H),f===!0?g("div",{class:"q-field__counter"},u.counter!==void 0?u.counter():e.computedCounter.value):null])}function J(r,F){return F===null?null:g("div",{key:r,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},F)}Object.assign(a,{focus:c,blur:C});let te=!1;return Kt(()=>{te=!0}),Ut(()=>{te===!0&&l.autofocus===!0&&a.focus()}),Qt(()=>{El.value===!0&&l.for===void 0&&(e.targetUid.value=rt()),l.autofocus===!0&&a.focus()}),Ce(()=>{clearTimeout(V)}),function(){const F=e.getControl===void 0&&u.control===void 0?z(ae(z({},e.splitAttrs.attributes.value),{"data-autofocus":l.autofocus}),I.value):I.value;return g("label",z({ref:e.rootRef,class:[_.value,S.class],style:S.style},F),[u.before!==void 0?g("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:xe},u.before()):null,g("div",{class:"q-field__inner relative-position col self-stretch"},[g("div",z({ref:e.controlRef,class:W.value,tabindex:-1},e.controlEvents),L()),P.value===!0?N():null]),u.after!==void 0?g("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:xe},u.after()):null])}}const $t={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},We={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ll=Object.keys(We);ll.forEach(e=>{We[e].regex=new RegExp(We[e].pattern)});const xn=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ll.join("")+"])|(.)","g"),Pt=/[.*+?^${}()|[\]\\]/g,ue=String.fromCharCode(1),Cn={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function pn(e,l,n,u){let S,a,v,V;const y=D(null),q=D(R());function h(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}ee(()=>e.type+e.autogrow,M),ee(()=>e.mask,i=>{if(i!==void 0)P(q.value,!0);else{const c=T(q.value);M(),e.modelValue!==c&&l("update:modelValue",c)}}),ee(()=>e.fillMask+e.reverseFillMask,()=>{y.value===!0&&P(q.value,!0)}),ee(()=>e.unmaskedValue,()=>{y.value===!0&&P(q.value)});function R(){if(M(),y.value===!0){const i=Q(T(e.modelValue));return e.fillMask!==!1?I(i):i}return e.modelValue}function B(i){if(i<S.length)return S.slice(-i);let c="",C=S;const p=C.indexOf(ue);if(p>-1){for(let x=i-C.length;x>0;x--)c+=ue;C=C.slice(0,p)+c+C.slice(p)}return C}function M(){if(y.value=e.mask!==void 0&&e.mask.length>0&&h(),y.value===!1){V=void 0,S="",a="";return}const i=$t[e.mask]===void 0?e.mask:$t[e.mask],c=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",C=c.replace(Pt,"\\$&"),p=[],x=[],w=[];let L=e.reverseFillMask===!0,E="",N="";i.replace(xn,(F,f,H,o,d)=>{if(o!==void 0){const A=We[o];w.push(A),N=A.negate,L===!0&&(x.push("(?:"+N+"+)?("+A.pattern+"+)?(?:"+N+"+)?("+A.pattern+"+)?"),L=!1),x.push("(?:"+N+"+)?("+A.pattern+")?")}else if(H!==void 0)E="\\"+(H==="\\"?"":H),w.push(H),p.push("([^"+E+"]+)?"+E+"?");else{const A=f!==void 0?f:d;E=A==="\\"?"\\\\\\\\":A.replace(Pt,"\\\\$&"),w.push(A),p.push("([^"+E+"]+)?"+E+"?")}});const J=new RegExp("^"+p.join("")+"("+(E===""?".":"[^"+E+"]")+"+)?$"),te=x.length-1,r=x.map((F,f)=>f===0&&e.reverseFillMask===!0?new RegExp("^"+C+"*"+F):f===te?new RegExp("^"+F+"("+(N===""?".":N)+"+)?"+(e.reverseFillMask===!0?"$":C+"*")):new RegExp("^"+F));v=w,V=F=>{const f=J.exec(F);f!==null&&(F=f.slice(1).join(""));const H=[],o=r.length;for(let d=0,A=F;d<o;d++){const K=r[d].exec(A);if(K===null)break;A=A.slice(K.shift().length),H.push(...K)}return H.length>0?H.join(""):F},S=w.map(F=>typeof F=="string"?F:ue).join(""),a=S.split(ue).join(c)}function P(i,c,C){const p=u.value,x=p.selectionEnd,w=p.value.length-x,L=T(i);c===!0&&M();const E=Q(L),N=e.fillMask!==!1?I(E):E,J=q.value!==N;p.value!==N&&(p.value=N),J===!0&&(q.value=N),document.activeElement===p&&re(()=>{if(N===a){const r=e.reverseFillMask===!0?a.length:0;p.setSelectionRange(r,r,"forward");return}if(C==="insertFromPaste"&&e.reverseFillMask!==!0){const r=x-1;_.right(p,r,r);return}if(["deleteContentBackward","deleteContentForward"].indexOf(C)>-1){const r=e.reverseFillMask===!0?x===0?N.length>E.length?1:0:Math.max(0,N.length-(N===a?0:Math.min(E.length,w)+1))+1:x;p.setSelectionRange(r,r,"forward");return}if(e.reverseFillMask===!0)if(J===!0){const r=Math.max(0,N.length-(N===a?0:Math.min(E.length,w+1)));r===1&&x===1?p.setSelectionRange(r,r,"forward"):_.rightReverse(p,r,r)}else{const r=N.length-w;p.setSelectionRange(r,r,"backward")}else if(J===!0){const r=Math.max(0,S.indexOf(ue),Math.min(E.length,x)-1);_.right(p,r,r)}else{const r=x-1;_.right(p,r,r)}});const te=e.unmaskedValue===!0?T(N):N;String(e.modelValue)!==te&&n(te,!0)}function U(i,c,C){const p=Q(T(i.value));c=Math.max(0,S.indexOf(ue),Math.min(p.length,c)),i.setSelectionRange(c,C,"forward")}const _={left(i,c,C,p){const x=S.slice(c-1).indexOf(ue)===-1;let w=Math.max(0,c-1);for(;w>=0;w--)if(S[w]===ue){c=w,x===!0&&c++;break}if(w<0&&S[c]!==void 0&&S[c]!==ue)return _.right(i,0,0);c>=0&&i.setSelectionRange(c,p===!0?C:c,"backward")},right(i,c,C,p){const x=i.value.length;let w=Math.min(x,C+1);for(;w<=x;w++)if(S[w]===ue){C=w;break}else S[w-1]===ue&&(C=w);if(w>x&&S[C-1]!==void 0&&S[C-1]!==ue)return _.left(i,x,x);i.setSelectionRange(p?c:C,C,"forward")},leftReverse(i,c,C,p){const x=B(i.value.length);let w=Math.max(0,c-1);for(;w>=0;w--)if(x[w-1]===ue){c=w;break}else if(x[w]===ue&&(c=w,w===0))break;if(w<0&&x[c]!==void 0&&x[c]!==ue)return _.rightReverse(i,0,0);c>=0&&i.setSelectionRange(c,p===!0?C:c,"backward")},rightReverse(i,c,C,p){const x=i.value.length,w=B(x),L=w.slice(0,C+1).indexOf(ue)===-1;let E=Math.min(x,C+1);for(;E<=x;E++)if(w[E-1]===ue){C=E,C>0&&L===!0&&C--;break}if(E>x&&w[C-1]!==void 0&&w[C-1]!==ue)return _.leftReverse(i,x,x);i.setSelectionRange(p===!0?c:C,C,"forward")}};function W(i){if(Zt(i)===!0)return;const c=u.value,C=c.selectionStart,p=c.selectionEnd;if(i.keyCode===37||i.keyCode===39){const x=_[(i.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];i.preventDefault(),x(c,C,p,i.shiftKey)}else i.keyCode===8&&e.reverseFillMask!==!0&&C===p?_.left(c,C,p,!0):i.keyCode===46&&e.reverseFillMask===!0&&C===p&&_.rightReverse(c,C,p,!0)}function Q(i){if(i==null||i==="")return"";if(e.reverseFillMask===!0)return X(i);const c=v;let C=0,p="";for(let x=0;x<c.length;x++){const w=i[C],L=c[x];if(typeof L=="string")p+=L,w===L&&C++;else if(w!==void 0&&L.regex.test(w))p+=L.transform!==void 0?L.transform(w):w,C++;else return p}return p}function X(i){const c=v,C=S.indexOf(ue);let p=i.length-1,x="";for(let w=c.length-1;w>=0&&p>-1;w--){const L=c[w];let E=i[p];if(typeof L=="string")x=L+x,E===L&&p--;else if(E!==void 0&&L.regex.test(E))do x=(L.transform!==void 0?L.transform(E):E)+x,p--,E=i[p];while(C===w&&E!==void 0&&L.regex.test(E));else return x}return x}function T(i){return typeof i!="string"||V===void 0?typeof i=="number"?V(""+i):i:V(i)}function I(i){return a.length-i.length<=0?i:e.reverseFillMask===!0&&i.length>0?a.slice(0,-i.length)+i:i+a.slice(i.length)}return{innerValue:q,hasMask:y,moveCursorForPaste:U,updateMaskValue:P,onMaskedKeydown:W}}const nl={name:String};function Wn(e={}){return(l,n,u)=>{l[n](g("input",z({class:"hidden"+(u||"")},e.value)))}}function ol(e){return s(()=>e.name||e.for)}function Vn(e,l){function n(){const u=e.modelValue;try{const S="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(u)===u&&("length"in u?Array.from(u):[u]).forEach(a=>{S.items.add(a)}),{files:S.files}}catch{return{files:void 0}}}return l===!0?s(()=>{if(e.type==="file")return n()}):s(n)}const qn=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Mn=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,_n=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/;function al(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.composing!==!0)return;n.target.composing=!1,e(n)}else n.type==="compositionupdate"?typeof n.data=="string"&&qn.test(n.data)===!1&&Mn.test(n.data)===!1&&_n.test(n.data)===!1&&(n.target.composing=!1):n.target.composing=!0}}var Xn=Fe({name:"QInput",inheritAttrs:!1,props:ae(z(z(z({},Ye),Cn),nl),{modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]}),emits:[...ct,"paste","change"],setup(e,{emit:l,attrs:n}){const u={};let S=NaN,a,v,V,y;const q=D(null),h=ol(e),{innerValue:R,hasMask:B,moveCursorForPaste:M,updateMaskValue:P,onMaskedKeydown:U}=pn(e,l,L,q),_=Vn(e,!0),W=s(()=>Pe(R.value)),Q=al(w),X=dt(),T=s(()=>e.type==="textarea"||e.autogrow===!0),I=s(()=>T.value===!0||["text","search","url","tel","password"].includes(e.type)),i=s(()=>{const f=ae(z({},X.splitAttrs.listeners.value),{onInput:w,onPaste:x,onChange:N,onBlur:J,onFocus:ye});return f.onCompositionstart=f.onCompositionupdate=f.onCompositionend=Q,B.value===!0&&(f.onKeydown=U),e.autogrow===!0&&(f.onAnimationend=E),f}),c=s(()=>{const f=ae(z({tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:h.value},X.splitAttrs.attributes.value),{id:X.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0});return T.value===!1&&(f.type=e.type),e.autogrow===!0&&(f.rows=1),f});ee(()=>e.type,()=>{q.value&&(q.value.value=e.modelValue)}),ee(()=>e.modelValue,f=>{if(B.value===!0){if(v===!0&&(v=!1,String(f)===S))return;P(f)}else R.value!==f&&(R.value=f,e.type==="number"&&u.hasOwnProperty("value")===!0&&(a===!0?a=!1:delete u.value));e.autogrow===!0&&re(E)}),ee(()=>e.autogrow,f=>{f===!0?re(E):q.value!==null&&n.rows>0&&(q.value.style.height="auto")}),ee(()=>e.dense,()=>{e.autogrow===!0&&re(E)});function C(){st(()=>{const f=document.activeElement;q.value!==null&&q.value!==f&&(f===null||f.id!==X.targetUid.value)&&q.value.focus({preventScroll:!0})})}function p(){q.value!==null&&q.value.select()}function x(f){if(B.value===!0&&e.reverseFillMask!==!0){const H=f.target;M(H,H.selectionStart,H.selectionEnd)}l("paste",f)}function w(f){if(!f||!f.target||f.target.composing===!0)return;if(e.type==="file"){l("update:modelValue",f.target.files);return}const H=f.target.value;if(B.value===!0)P(H,!1,f.inputType);else if(L(H),I.value===!0&&f.target===document.activeElement){const{selectionStart:o,selectionEnd:d}=f.target;o!==void 0&&d!==void 0&&re(()=>{f.target===document.activeElement&&H.indexOf(f.target.value)===0&&f.target.setSelectionRange(o,d)})}e.autogrow===!0&&E()}function L(f,H){y=()=>{e.type!=="number"&&u.hasOwnProperty("value")===!0&&delete u.value,e.modelValue!==f&&S!==f&&(H===!0&&(v=!0),l("update:modelValue",f),re(()=>{S===f&&(S=NaN)})),y=void 0},e.type==="number"&&(a=!0,u.value=f),e.debounce!==void 0?(clearTimeout(V),u.value=f,V=setTimeout(y,e.debounce)):y()}function E(){const f=q.value;if(f!==null){const H=f.parentNode.style;H.marginBottom=f.scrollHeight-1+"px",f.style.height="1px",f.style.height=f.scrollHeight+"px",H.marginBottom=""}}function N(f){Q(f),clearTimeout(V),y!==void 0&&y(),l("change",f.target.value)}function J(f){f!==void 0&&ye(f),clearTimeout(V),y!==void 0&&y(),a=!1,v=!1,delete u.value,e.type!=="file"&&setTimeout(()=>{q.value!==null&&(q.value.value=R.value!==void 0?R.value:"")})}function te(){return u.hasOwnProperty("value")===!0?u.value:R.value!==void 0?R.value:""}Ce(()=>{J()}),Qt(()=>{e.autogrow===!0&&E()}),Object.assign(X,{innerValue:R,fieldClass:s(()=>`q-${T.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:s(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:q,emitValue:L,hasValue:W,floatingLabel:s(()=>W.value===!0||Pe(e.displayValue)),getControl:()=>g(T.value===!0?"textarea":"input",z(z(z({ref:q,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle},c.value),i.value),e.type!=="file"?{value:te()}:_.value)),getShadowControl:()=>g("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(T.value===!0?"":" text-no-wrap")},[g("span",{class:"invisible"},te()),g("span",e.shadowText)])});const r=ft(X),F=ge();return Object.assign(F.proxy,{focus:C,select:p,getNativeElement:()=>q.value}),r}});let Xe=!1;{const e=document.createElement("div"),l=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",l.style.width="1000px",l.style.height="1px",document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,Xe=e.scrollLeft>=0,e.remove()}const ve=1e3,An=["start","center","end","start-force","center-force","end-force"],ul=Array.prototype.filter,Rn=window.getComputedStyle(document.body).overflowAnchor===void 0?Fl:function(e,l){requestAnimationFrame(()=>{if(e===void 0)return;const n=e.children||[];ul.call(n,S=>S.dataset&&S.dataset.qVsAnchor!==void 0).forEach(S=>{delete S.dataset.qVsAnchor});const u=n[l];u&&u.dataset&&(u.dataset.qVsAnchor="")})};function Ee(e,l){return e+l}function at(e,l,n,u,S,a,v,V){const y=e===window?document.scrollingElement||document.documentElement:e,q=S===!0?"offsetWidth":"offsetHeight",h={scrollStart:0,scrollViewSize:-v-V,scrollMaxSize:0,offsetStart:-v,offsetEnd:-V};if(S===!0?(e===window?(h.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,h.scrollViewSize+=document.documentElement.clientWidth):(h.scrollStart=y.scrollLeft,h.scrollViewSize+=y.clientWidth),h.scrollMaxSize=y.scrollWidth,a===!0&&(h.scrollStart=(Xe===!0?h.scrollMaxSize-h.scrollViewSize:0)-h.scrollStart)):(e===window?(h.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,h.scrollViewSize+=document.documentElement.clientHeight):(h.scrollStart=y.scrollTop,h.scrollViewSize+=y.clientHeight),h.scrollMaxSize=y.scrollHeight),n!==null)for(let R=n.previousElementSibling;R!==null;R=R.previousElementSibling)R.classList.contains("q-virtual-scroll--skip")===!1&&(h.offsetStart+=R[q]);if(u!==null)for(let R=u.nextElementSibling;R!==null;R=R.nextElementSibling)R.classList.contains("q-virtual-scroll--skip")===!1&&(h.offsetEnd+=R[q]);if(l!==e){const R=y.getBoundingClientRect(),B=l.getBoundingClientRect();S===!0?(h.offsetStart+=B.left-R.left,h.offsetEnd-=B.width):(h.offsetStart+=B.top-R.top,h.offsetEnd-=B.height),e!==window&&(h.offsetStart+=h.scrollStart),h.offsetEnd+=h.scrollMaxSize-h.offsetStart}return h}function Lt(e,l,n,u){l==="end"&&(l=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(u===!0&&(l=(Xe===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):n===!0?(u===!0&&(l=(Xe===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Te(e,l,n,u){if(n>=u)return 0;const S=l.length,a=Math.floor(n/ve),v=Math.floor((u-1)/ve)+1;let V=e.slice(a,v).reduce(Ee,0);return n%ve!==0&&(V-=l.slice(a*ve,n).reduce(Ee,0)),u%ve!==0&&u!==S&&(V-=l.slice(u,v*ve).reduce(Ee,0)),V}const il={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Yn=Object.keys(il),Bn=z({virtualScrollHorizontal:Boolean,onVirtualScroll:Function},il);function En({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:n,virtualScrollItemSizeComputed:u}){const S=ge(),{props:a,emit:v,proxy:V}=S,{$q:y}=V;let q,h,R,B=[],M;const P=D(0),U=D(0),_=D({}),W=D(null),Q=D(null),X=D(null),T=D({from:0,to:0}),I=s(()=>a.tableColspan!==void 0?a.tableColspan:100);u===void 0&&(u=s(()=>a.virtualScrollItemSize));const i=s(()=>u.value+";"+a.virtualScrollHorizontal),c=s(()=>i.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);ee(c,()=>{te()}),ee(i,C);function C(){J(h,!0)}function p(o){J(o===void 0?h:o)}function x(o,d){const A=l();if(A==null||A.nodeType===8)return;const K=at(A,n(),W.value,Q.value,a.virtualScrollHorizontal,y.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);R!==K.scrollViewSize&&te(K.scrollViewSize),L(A,K,Math.min(e.value-1,Math.max(0,parseInt(o,10)||0)),0,An.indexOf(d)>-1?d:h>-1&&o>h?"end":"start")}function w(){const o=l();if(o==null||o.nodeType===8)return;const d=at(o,n(),W.value,Q.value,a.virtualScrollHorizontal,y.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),A=e.value-1,K=d.scrollMaxSize-d.offsetStart-d.offsetEnd-U.value;if(q===d.scrollStart)return;if(d.scrollMaxSize<=0){L(o,d,0,0);return}R!==d.scrollViewSize&&te(d.scrollViewSize),E(T.value.from);const le=Math.floor(d.scrollMaxSize-Math.max(d.scrollViewSize,d.offsetEnd)-Math.min(M[A],d.scrollViewSize/2));if(le>0&&Math.ceil(d.scrollStart)>=le){L(o,d,A,d.scrollMaxSize-d.offsetEnd-B.reduce(Ee,0));return}let j=0,$=d.scrollStart-d.offsetStart,ne=$;if($<=K&&$+d.scrollViewSize>=P.value)$-=P.value,j=T.value.from,ne=$;else for(let b=0;$>=B[b]&&j<A;b++)$-=B[b],j+=ve;for(;$>0&&j<A;)$-=M[j],$>-d.scrollViewSize?(j++,ne=$):ne=M[j]+$;L(o,d,j,ne)}function L(o,d,A,K,le){const j=typeof le=="string"&&le.indexOf("-force")>-1,$=j===!0?le.replace("-force",""):le,ne=$!==void 0?$:"start";let b=Math.max(0,A-_.value[ne]),G=b+_.value.total;G>e.value&&(G=e.value,b=Math.max(0,G-_.value.total)),q=d.scrollStart;const me=b!==T.value.from||G!==T.value.to;if(me===!1&&$===void 0){F(A);return}const{activeElement:he}=document,ce=X.value;me===!0&&ce!==null&&ce!==he&&ce.contains(he)===!0&&(ce.addEventListener("focusout",N),setTimeout(()=>{ce!==void 0&&ce.removeEventListener("focusout",N)})),Rn(ce,A-b);const Le=$!==void 0?M.slice(b,A).reduce(Ee,0):0;if(me===!0){const be=G>=T.value.from&&b<=T.value.to?T.value.to:G;T.value={from:b,to:be},P.value=Te(B,M,0,b),U.value=Te(B,M,G,e.value),requestAnimationFrame(()=>{T.value.to!==G&&q===d.scrollStart&&(T.value={from:T.value.from,to:G},U.value=Te(B,M,G,e.value))})}requestAnimationFrame(()=>{if(q!==d.scrollStart)return;me===!0&&E(b);const be=M.slice(b,A).reduce(Ee,0),pe=be+d.offsetStart+P.value,He=pe+M[A];let ze=pe+K;if($!==void 0){const Je=be-Le,de=d.scrollStart+Je;ze=j!==!0&&de<pe&&He<de+d.scrollViewSize?de:$==="end"?He-d.scrollViewSize:pe-($==="start"?0:Math.round((d.scrollViewSize-M[A])/2))}q=ze,Lt(o,ze,a.virtualScrollHorizontal,y.lang.rtl),F(A)})}function E(o){const d=X.value;if(d){const A=ul.call(d.children,b=>b.classList&&b.classList.contains("q-virtual-scroll--skip")===!1),K=A.length,le=a.virtualScrollHorizontal===!0?b=>b.getBoundingClientRect().width:b=>b.offsetHeight;let j=o,$,ne;for(let b=0;b<K;){for($=le(A[b]),b++;b<K&&A[b].classList.contains("q-virtual-scroll--with-prev")===!0;)$+=le(A[b]),b++;ne=$-M[j],ne!==0&&(M[j]+=ne,B[Math.floor(j/ve)]+=ne),j++}}}function N(){X.value!==void 0&&X.value.focus()}function J(o,d){const A=1*u.value;(d===!0||Array.isArray(M)===!1)&&(M=[]);const K=M.length;M.length=e.value;for(let j=e.value-1;j>=K;j--)M[j]=A;const le=Math.floor((e.value-1)/ve);B=[];for(let j=0;j<=le;j++){let $=0;const ne=Math.min((j+1)*ve,e.value);for(let b=j*ve;b<ne;b++)$+=M[b];B.push($)}h=-1,q=void 0,P.value=Te(B,M,0,T.value.from),U.value=Te(B,M,T.value.to,e.value),o>=0?(E(T.value.from),re(()=>{x(o)})):f()}function te(o){if(o===void 0&&typeof window!="undefined"){const $=l();$!=null&&$.nodeType!==8&&(o=at($,n(),W.value,Q.value,a.virtualScrollHorizontal,y.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}R=o;const d=parseFloat(a.virtualScrollSliceRatioBefore)||0,A=parseFloat(a.virtualScrollSliceRatioAfter)||0,K=1+d+A,le=o===void 0||o<=0?1:Math.ceil(o/u.value),j=Math.max(1,le,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/K));_.value={total:Math.ceil(j*K),start:Math.ceil(j*d),center:Math.ceil(j*(.5+d)),end:Math.ceil(j*(1+d)),view:le}}function r(o,d){const A=a.virtualScrollHorizontal===!0?"width":"height",K={["--q-virtual-scroll-item-"+A]:u.value+"px"};return[o==="tbody"?g(o,{class:"q-virtual-scroll__padding",key:"before",ref:W},[g("tr",[g("td",{style:z({[A]:`${P.value}px`},K),colspan:I.value})])]):g(o,{class:"q-virtual-scroll__padding",key:"before",ref:W,style:z({[A]:`${P.value}px`},K)}),g(o,{class:"q-virtual-scroll__content",key:"content",ref:X,tabindex:-1},d.flat()),o==="tbody"?g(o,{class:"q-virtual-scroll__padding",key:"after",ref:Q},[g("tr",[g("td",{style:z({[A]:`${U.value}px`},K),colspan:I.value})])]):g(o,{class:"q-virtual-scroll__padding",key:"after",ref:Q,style:z({[A]:`${U.value}px`},K)})]}function F(o){h!==o&&(a.onVirtualScroll!==void 0&&v("virtual-scroll",{index:o,from:T.value.from,to:T.value.to-1,direction:o<h?"decrease":"increase",ref:V}),h=o)}te();const f=jt(w,y.platform.is.ios===!0?120:35);zl(()=>{te()});let H=!1;return Kt(()=>{H=!0}),Ut(()=>{if(H!==!0)return;const o=l();q!==void 0&&o!==void 0&&o!==null&&o.nodeType!==8?Lt(o,q,a.virtualScrollHorizontal,y.lang.rtl):x(h)}),Ce(()=>{f.cancel()}),Object.assign(V,{scrollTo:x,reset:C,refresh:p}),{virtualScrollSliceRange:T,virtualScrollSliceSizeComputed:_,setVirtualScrollSize:te,onVirtualScrollEvt:f,localResetVirtualScroll:J,padVirtualScroll:r,scrollTo:x,reset:C,refresh:p}}var Fn=Fe({name:"QField",inheritAttrs:!1,props:Ye,emits:ct,setup(){return ft(dt())}});const zn={xs:8,sm:10,md:14,lg:20,xl:24};var In=Fe({name:"QChip",props:ae(z(z({},Jt),Wt),{dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:n}){const{proxy:{$q:u}}=ge(),S=Gt(e,u),a=Xt(e,zn),v=s(()=>e.selected===!0||e.icon!==void 0),V=s(()=>e.selected===!0?e.iconSelected||u.iconSet.chip.selected:e.icon),y=s(()=>e.iconRemove||u.iconSet.chip.remove),q=s(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),h=s(()=>{const _=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(_?` text-${_} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(q.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(S.value===!0?" q-chip--dark q-dark":"")}),R=s(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function B(_){_.keyCode===13&&M(_)}function M(_){e.disable||(n("update:selected",!e.selected),n("click",_))}function P(_){(_.keyCode===void 0||_.keyCode===13)&&(Se(_),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function U(){const _=[];q.value===!0&&_.push(g("div",{class:"q-focus-helper"})),v.value===!0&&_.push(g(Be,{class:"q-chip__icon q-chip__icon--left",name:V.value}));const W=e.label!==void 0?[g("div",{class:"ellipsis"},[e.label])]:void 0;return _.push(g("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Yt(l.default,W))),e.iconRight&&_.push(g(Be,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&_.push(g(Be,ae(z({class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:y.value},R.value),{onClick:P,onKeyup:P}))),_}return()=>{if(e.modelValue===!1)return;const _={class:h.value,style:a.value};return q.value===!0&&Object.assign(_,R.value,{onClick:M,onKeyup:B}),$l("div",_,U(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Xl,e.ripple]])}}});let Ze=0;const On={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Ht={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Tn=Fe({name:"QDialog",inheritAttrs:!1,props:ae(z(z({},Dl),jl),{transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}}),emits:[...Nl,"shake","click","escape-key"],setup(e,{slots:l,emit:n,attrs:u}){const S=ge(),a=D(null),v=D(!1),V=D(!1),y=D(!1);let q,h=null,R,B;const M=s(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:P}=Gl(),{registerTimeout:U,removeTimeout:_}=Kl(),{registerTick:W,removeTick:Q}=Ul(),{showPortal:X,hidePortal:T,portalIsAccessible:I,renderPortal:i}=Ql(S,a,ne,!0),{hide:c}=Zl({showing:v,hideOnRouteChange:M,handleShow:F,handleHide:f,processOnMount:!0}),{addToHistory:C,removeFromHistory:p}=Jl(v,c,M),x=s(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${On[e.position]}`+(y.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),w=s(()=>"q-transition--"+(e.transitionShow===void 0?Ht[e.position][0]:e.transitionShow)),L=s(()=>"q-transition--"+(e.transitionHide===void 0?Ht[e.position][1]:e.transitionHide)),E=s(()=>V.value===!0?L.value:w.value),N=s(()=>`--q-transition-duration: ${e.transitionDuration}ms`),J=s(()=>v.value===!0&&e.seamless!==!0),te=s(()=>e.autoClose===!0?{onClick:le}:{}),r=s(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${J.value===!0?"modal":"seamless"}`,u.class]);ee(v,b=>{re(()=>{V.value=b})}),ee(()=>e.maximized,b=>{v.value===!0&&K(b)}),ee(J,b=>{P(b),b===!0?(en($),tn(d)):(At($),Rt(d))});function F(b){_(),Q(),C(),h=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,K(e.maximized),X(),y.value=!0,e.noFocus!==!0&&(document.activeElement!==null&&document.activeElement.blur(),W(H)),U(()=>{if(S.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:G,bottom:me}=document.activeElement.getBoundingClientRect(),{innerHeight:he}=window,ce=window.visualViewport!==void 0?window.visualViewport.height:he;G>0&&me>ce/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-ce,me>=he?1/0:Math.ceil(document.scrollingElement.scrollTop+me-ce/2))),document.activeElement.scrollIntoView()}B=!0,a.value.click(),B=!1}X(!0),y.value=!1,n("show",b)},e.transitionDuration)}function f(b){_(),Q(),p(),A(!0),y.value=!0,T(),h!==null&&(h.focus(),h=null),U(()=>{T(!0),y.value=!1,n("hide",b)},e.transitionDuration)}function H(b){st(()=>{let G=a.value;G===null||G.contains(document.activeElement)===!0||(G=G.querySelector(b||"[autofocus], [data-autofocus]")||G,G.focus({preventScroll:!0}))})}function o(){H(),n("shake");const b=a.value;b!==null&&(b.classList.remove("q-animate--scale"),b.classList.add("q-animate--scale"),clearTimeout(q),q=setTimeout(()=>{a.value!==null&&(b.classList.remove("q-animate--scale"),H())},170))}function d(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&o():(n("escape-key"),c()))}function A(b){clearTimeout(q),(b===!0||v.value===!0)&&(K(!1),e.seamless!==!0&&(P(!1),At($),Rt(d))),b!==!0&&(h=null)}function K(b){b===!0?R!==!0&&(Ze<1&&document.body.classList.add("q-body--dialog"),Ze++,R=!0):R===!0&&(Ze<2&&document.body.classList.remove("q-body--dialog"),Ze--,R=!1)}function le(b){B!==!0&&(c(b),n("click",b))}function j(b){e.persistent!==!0&&e.noBackdropDismiss!==!0?c(b):e.noShake!==!0&&o()}function $(b){I.value===!0&&Pl(a.value,b.target)!==!0&&H('[tabindex]:not([tabindex="-1"])')}Object.assign(S.proxy,{focus:H,shake:o,__updateRefocusTarget(b){h=b||null}}),Ce(A);function ne(){return g("div",ae(z({},u),{class:r.value}),[g(ut,{name:"q-transition--fade",appear:!0},()=>J.value===!0?g("div",{class:"q-dialog__backdrop fixed-full",style:N.value,"aria-hidden":"true",onMousedown:j}):null),g(ut,{name:E.value,appear:!0},()=>v.value===!0?g("div",z({ref:a,class:x.value,style:N.value,tabindex:-1},te.value),$e(l.default)):null)])}return i}});const Dt=e=>["add","add-unique","toggle"].includes(e),$n=".*+?^${}()|[]\\",Pn=Object.keys(Ye);var Jn=Fe({name:"QSelect",inheritAttrs:!1,props:ae(z(z(z({},Bn),nl),Ye),{modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Dt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function}),emits:[...ct,"add","remove","input-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:l,emit:n}){const{proxy:u}=ge(),{$q:S}=u,a=D(!1),v=D(!1),V=D(-1),y=D(""),q=D(!1),h=D(!1);let R,B,M,P,U,_,W,Q,X;const T=D(null),I=D(null),i=D(null),c=D(null),C=D(null),p=ol(e),x=al(xt),w=s(()=>Array.isArray(e.options)?e.options.length:0),L=s(()=>e.virtualScrollItemSize===void 0?e.dense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:E,virtualScrollSliceSizeComputed:N,localResetVirtualScroll:J,padVirtualScroll:te,onVirtualScrollEvt:r,reset:F,scrollTo:f,setVirtualScrollSize:H}=En({virtualScrollLength:w,getVirtualScrollTarget:dl,getVirtualScrollEl:wt,virtualScrollItemSizeComputed:L}),o=dt(),d=s(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,k=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const m=e.mapOptions===!0&&B!==void 0?B:[],O=k.map(Y=>cl(Y,m));return e.modelValue===null&&t===!0?O.filter(Y=>Y!==null):O}return k}),A=s(()=>{const t={};return Pn.forEach(k=>{const m=e[k];m!==void 0&&(t[k]=m)}),t}),K=s(()=>e.optionsDark===null?o.isDark.value:e.optionsDark),le=s(()=>Pe(d.value)),j=s(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||d.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),$=s(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),ne=s(()=>w.value===0),b=s(()=>d.value.map(t=>fe.value(t)).join(", ")),G=s(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),me=s(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||d.value.some(G.value))),he=s(()=>o.focused.value===!0?e.tabindex:-1),ce=s(()=>({tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-owns":`${o.targetUid.value}_lb`,"aria-controls":`${o.targetUid.value}_lb`})),Le=s(()=>{const t={id:`${o.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return V.value>=0&&(t["aria-activedescendant"]=`${o.targetUid.value}_${V.value}`),t}),be=s(()=>d.value.map((t,k)=>({index:k,opt:t,html:G.value(t),selected:!0,removeAtIndex:sl,toggleOption:we,tabindex:he.value}))),pe=s(()=>{if(w.value===0)return[];const{from:t,to:k}=E.value;return e.options.slice(t,k).map((m,O)=>{const Y=Ve.value(m)===!0,Z=t+O,oe={clickable:!0,active:!1,activeClass:Je.value,manualFocus:!0,focused:!1,disable:Y,tabindex:-1,dense:e.optionsDense,dark:K.value,role:"option",id:`${o.targetUid.value}_${Z}`,onClick:()=>{we(m)}};return Y!==!0&&(tt(m)===!0&&(oe.active=!0),V.value===Z&&(oe.focused=!0),oe["aria-selected"]=oe.active===!0?"true":"false",S.platform.is.desktop===!0&&(oe.onMousemove=()=>{a.value===!0&&qe(Z)})),{index:Z,opt:m,html:G.value(m),label:fe.value(m),selected:oe.active,focused:oe.focused,toggleOption:we,setOptionIndex:qe,itemProps:oe}})}),He=s(()=>e.dropdownIcon!==void 0?e.dropdownIcon:S.iconSet.arrow.dropdown),ze=s(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Je=s(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),de=s(()=>et(e.optionValue,"value")),fe=s(()=>et(e.optionLabel,"label")),Ve=s(()=>et(e.optionDisable,"disable")),De=s(()=>d.value.map(t=>de.value(t))),rl=s(()=>{const t={onInput:xt,onChange:x,onKeydown:bt,onKeyup:St,onKeypress:yt,onFocus:gt,onClick(k){M===!0&&ye(k)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=x,t});ee(d,t=>{B=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&o.innerLoading.value!==!0&&(v.value!==!0&&a.value!==!0||le.value!==!0)&&(P!==!0&&Re(),(v.value===!0||a.value===!0)&&Me(""))},{immediate:!0}),ee(()=>e.fillInput,Re),ee(a,lt),ee(w,Cl);function vt(t){return e.emitValue===!0?de.value(t):t}function Ge(t){if(t>-1&&t<d.value.length)if(e.multiple===!0){const k=e.modelValue.slice();n("remove",{index:t,value:k.splice(t,1)[0]}),n("update:modelValue",k)}else n("update:modelValue",null)}function sl(t){Ge(t),o.focus()}function mt(t,k){const m=vt(t);if(e.multiple!==!0){e.fillInput===!0&&Ie(fe.value(t),!0,!0),n("update:modelValue",m);return}if(d.value.length===0){n("add",{index:0,value:m}),n("update:modelValue",e.multiple===!0?[m]:m);return}if(k===!0&&tt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const O=e.modelValue.slice();n("add",{index:O.length,value:m}),O.push(m),n("update:modelValue",O)}function we(t,k){if(o.editable.value!==!0||t===void 0||Ve.value(t)===!0)return;const m=de.value(t);if(e.multiple!==!0){k!==!0&&(Ie(e.fillInput===!0?fe.value(t):"",!0,!0),ke()),I.value!==null&&I.value.focus(),(d.value.length===0||Oe(de.value(d.value[0]),m)!==!0)&&n("update:modelValue",e.emitValue===!0?m:t);return}if((M!==!0||q.value===!0)&&o.focus(),gt(),d.value.length===0){const Z=e.emitValue===!0?m:t;n("add",{index:0,value:Z}),n("update:modelValue",e.multiple===!0?[Z]:Z);return}const O=e.modelValue.slice(),Y=De.value.findIndex(Z=>Oe(Z,m));if(Y>-1)n("remove",{index:Y,value:O.splice(Y,1)[0]});else{if(e.maxValues!==void 0&&O.length>=e.maxValues)return;const Z=e.emitValue===!0?m:t;n("add",{index:O.length,value:Z}),O.push(Z)}n("update:modelValue",O)}function qe(t){if(S.platform.is.desktop!==!0)return;const k=t>-1&&t<w.value?t:-1;V.value!==k&&(V.value=k)}function je(t=1,k){if(a.value===!0){let m=V.value;do m=Bt(m+t,-1,w.value-1);while(m!==-1&&m!==V.value&&Ve.value(e.options[m])===!0);V.value!==m&&(qe(m),f(m),k!==!0&&e.useInput===!0&&e.fillInput===!0&&Ne(m>=0?fe.value(e.options[m]):_))}}function cl(t,k){const m=O=>Oe(de.value(O),t);return e.options.find(m)||k.find(m)||t}function et(t,k){const m=t!==void 0?t:k;return typeof m=="function"?m:O=>O!==null&&typeof O=="object"&&m in O?O[m]:O}function tt(t){const k=de.value(t);return De.value.find(m=>Oe(m,k))!==void 0}function gt(t){e.useInput===!0&&I.value!==null&&(t===void 0||I.value===t.target&&t.target.value===b.value)&&I.value.select()}function ht(t){Ol(t,27)===!0&&a.value===!0&&(ye(t),ke(),Re()),n("keyup",t)}function St(t){const{value:k}=t.target;if(t.keyCode!==void 0){ht(t);return}if(t.target.value="",clearTimeout(R),Re(),typeof k=="string"&&k.length>0){const m=k.toLocaleLowerCase(),O=Z=>{const oe=e.options.find(se=>Z.value(se).toLocaleLowerCase()===m);return oe===void 0?!1:(d.value.indexOf(oe)===-1?we(oe):ke(),!0)},Y=Z=>{O(de)!==!0&&(O(fe)===!0||Z===!0||Me(k,!0,()=>Y(!0)))};Y()}else o.clearValue(t)}function yt(t){n("keypress",t)}function bt(t){if(n("keydown",t),Zt(t)===!0)return;const k=y.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),m=t.shiftKey!==!0&&e.multiple!==!0&&(V.value>-1||k===!0);if(t.keyCode===27){xe(t);return}if(t.keyCode===9&&m===!1){_e();return}if(t.target===void 0||t.target.id!==o.targetUid.value)return;if(t.keyCode===40&&o.innerLoading.value!==!0&&a.value===!1){Se(t),Ae();return}if(t.keyCode===8&&e.hideSelected!==!0&&y.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ge(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof y.value!="string"||y.value.length===0)&&(Se(t),V.value=-1,je(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&N.value!==void 0&&(Se(t),V.value=Math.max(-1,Math.min(w.value,V.value+(t.keyCode===33?-1:1)*N.value.view)),je(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Se(t),je(t.keyCode===38?-1:1,e.multiple));const O=w.value;if((Q===void 0||X<Date.now())&&(Q=""),O>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===t.ctrlKey&&(t.keyCode!==32||Q.length>0)){a.value!==!0&&Ae(t);const Y=t.key.toLocaleLowerCase(),Z=Q.length===1&&Q[0]===Y;X=Date.now()+1500,Z===!1&&(Se(t),Q+=Y);const oe=new RegExp("^"+Q.split("").map(nt=>$n.indexOf(nt)>-1?"\\"+nt:nt).join(".*"),"i");let se=V.value;if(Z===!0||se<0||oe.test(fe.value(e.options[se]))!==!0)do se=Bt(se+1,-1,O-1);while(se!==V.value&&(Ve.value(e.options[se])===!0||oe.test(fe.value(e.options[se]))!==!0));V.value!==se&&re(()=>{qe(se),f(se),se>=0&&e.useInput===!0&&e.fillInput===!0&&Ne(fe.value(e.options[se]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||Q!=="")&&(t.keyCode!==9||m===!1))){if(t.keyCode!==9&&Se(t),V.value>-1&&V.value<O){we(e.options[V.value]);return}if(k===!0){const Y=(Z,oe)=>{if(oe){if(Dt(oe)!==!0)return}else oe=e.newValueMode;if(Z==null)return;Ie("",e.multiple!==!0,!0),(oe==="toggle"?we:mt)(Z,oe==="add-unique"),e.multiple!==!0&&(I.value!==null&&I.value.focus(),ke())};if(e.onNewValue!==void 0?n("new-value",y.value,Y):Y(y.value),e.multiple!==!0)return}a.value===!0?_e():o.innerLoading.value!==!0&&Ae()}}function wt(){return M===!0?C.value:i.value!==null&&i.value.__qPortalInnerRef.value!==null?i.value.__qPortalInnerRef.value:void 0}function dl(){return wt()}function fl(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?be.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?be.value.map((t,k)=>g(In,{key:"option-"+k,removable:o.editable.value===!0&&Ve.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:he.value,onRemove(){t.removeAtIndex(k)}},()=>g("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:fe.value(t.opt)}))):[g("span",{[me.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:b.value})]}function kt(){if(ne.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:y.value}):void 0;const t=l.option!==void 0?l.option:m=>g(on,z({key:m.index},m.itemProps),()=>g(nn,()=>g(an,()=>g("span",{[m.html===!0?"innerHTML":"textContent"]:m.label}))));let k=te("div",pe.value.map(t));return l["before-options"]!==void 0&&(k=l["before-options"]().concat(k)),Ll(l["after-options"],k)}function vl(t,k){const m=k===!0?z(z({},ce.value),o.splitAttrs.attributes.value):void 0,O=z(ae(z({ref:k===!0?I:void 0,key:"i_t",class:j.value,style:e.inputStyle,value:y.value!==void 0?y.value:"",type:"search"},m),{id:k===!0?o.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0}),rl.value);return t!==!0&&M===!0&&(Array.isArray(O.class)===!0?O.class=[...O.class,"no-pointer-events"]:O.class+=" no-pointer-events"),g("input",O)}function xt(t){clearTimeout(R),!(t&&t.target&&t.target.composing===!0)&&(Ne(t.target.value||""),P=!0,_=y.value,o.focused.value!==!0&&(M!==!0||q.value===!0)&&o.focus(),e.onFilter!==void 0&&(R=setTimeout(()=>{Me(y.value)},e.inputDebounce)))}function Ne(t){y.value!==t&&(y.value=t,n("input-value",t))}function Ie(t,k,m){P=m!==!0,e.useInput===!0&&(Ne(t),(k===!0||m!==!0)&&(_=t),k!==!0&&Me(t))}function Me(t,k,m){if(e.onFilter===void 0||k!==!0&&o.focused.value!==!0)return;o.innerLoading.value===!0?n("filter-abort"):(o.innerLoading.value=!0,h.value=!0),t!==""&&e.multiple!==!0&&d.value.length>0&&P!==!0&&t===fe.value(d.value[0])&&(t="");const O=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);clearTimeout(U),U=O,n("filter",t,(Y,Z)=>{(k===!0||o.focused.value===!0)&&U===O&&(clearTimeout(U),typeof Y=="function"&&Y(),h.value=!1,re(()=>{o.innerLoading.value=!1,o.editable.value===!0&&(k===!0?a.value===!0&&ke():a.value===!0?lt(!0):a.value=!0),typeof Z=="function"&&re(()=>{Z(u)}),typeof m=="function"&&re(()=>{m(u)})}))},()=>{o.focused.value===!0&&U===O&&(clearTimeout(U),o.innerLoading.value=!1,h.value=!1),a.value===!0&&(a.value=!1)})}function ml(){return g(ln,ae(z({ref:i,class:$.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&ne.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:K.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:ze.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0},Le.value),{onScrollPassive:r,onBeforeShow:pt,onBeforeHide:gl,onShow:hl}),kt)}function gl(t){Vt(t),_e()}function hl(){H()}function Sl(t){ye(t),I.value!==null&&I.value.focus(),q.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function yl(t){ye(t),re(()=>{q.value=!1})}function bl(){const t=[g(Fn,ae(z(ae(z({class:`col-auto ${o.fieldClass.value}`},A.value),{for:o.targetUid.value,dark:K.value,square:!0,loading:h.value,itemAligned:!1,filled:!0,stackLabel:y.value.length>0}),o.splitAttrs.listeners.value),{onFocus:Sl,onBlur:yl}),ae(z({},l),{rawControl:()=>o.getControl(!0),before:void 0,after:void 0}))];return a.value===!0&&t.push(g("div",ae(z({ref:C,class:$.value+" scroll",style:e.popupContentStyle},Le.value),{onClick:xe,onScrollPassive:r}),kt())),g(Tn,{ref:c,modelValue:v.value,position:e.useInput===!0?"top":void 0,transitionShow:W,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:pt,onBeforeHide:wl,onHide:kl,onShow:xl},()=>g("div",{class:"q-select__dialog"+(K.value===!0?" q-select__dialog--dark q-dark":"")+(q.value===!0?" q-select__dialog--focused":"")},t))}function wl(t){Vt(t),c.value!==null&&c.value.__updateRefocusTarget(o.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),o.focused.value=!1}function kl(t){ke(),o.focused.value===!1&&n("blur",t),Re()}function xl(){const t=document.activeElement;(t===null||t.id!==o.targetUid.value)&&I.value!==null&&I.value!==t&&I.value.focus(),H()}function _e(){v.value!==!0&&(V.value=-1,a.value===!0&&(a.value=!1),o.focused.value===!1&&(clearTimeout(U),U=void 0,o.innerLoading.value===!0&&(n("filter-abort"),o.innerLoading.value=!1,h.value=!1)))}function Ae(t){o.editable.value===!0&&(M===!0?(o.onControlFocusin(t),v.value=!0,re(()=>{o.focus()})):o.focus(),e.onFilter!==void 0?Me(y.value):(ne.value!==!0||l["no-option"]!==void 0)&&(a.value=!0))}function ke(){v.value=!1,_e()}function Re(){e.useInput===!0&&Ie(e.multiple!==!0&&e.fillInput===!0&&d.value.length>0&&fe.value(d.value[0])||"",!0,!0)}function lt(t){let k=-1;if(t===!0){if(d.value.length>0){const m=de.value(d.value[0]);k=e.options.findIndex(O=>Oe(de.value(O),m))}J(k)}qe(k)}function Cl(){a.value===!0&&o.innerLoading.value===!1&&(F(),re(()=>{a.value===!0&&o.innerLoading.value===!1&&lt(!0)}))}function Ct(){v.value===!1&&i.value!==null&&i.value.updatePosition()}function pt(t){t!==void 0&&ye(t),n("popup-show",t),o.hasPopupOpen=!0,o.onControlFocusin(t)}function Vt(t){t!==void 0&&ye(t),n("popup-hide",t),o.hasPopupOpen=!1,o.onControlFocusout(t)}function qt(){M=S.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||ne.value===!1:!0),W=S.platform.is.ios===!0&&M===!0&&e.useInput===!0?"fade":e.transitionShow}return Nt(qt),Il(Ct),qt(),Ce(()=>{clearTimeout(R)}),Object.assign(u,{showPopup:Ae,hidePopup:ke,removeAtIndex:Ge,add:mt,toggleOption:we,getOptionIndex:()=>V.value,setOptionIndex:qe,moveOptionSelection:je,filter:Me,updateMenuPosition:Ct,updateInputValue:Ie,isOptionSelected:tt,getEmittingOptionValue:vt,isOptionDisabled:(...t)=>Ve.value.apply(null,t)===!0,getOptionValue:(...t)=>de.value.apply(null,t),getOptionLabel:(...t)=>fe.value.apply(null,t)}),Object.assign(o,{innerValue:d,fieldClass:s(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:T,targetRef:I,hasValue:le,showPopup:Ae,floatingLabel:s(()=>(e.hideSelected===!0?y.value.length>0:le.value===!0)||Pe(e.displayValue)),getControlChild:()=>{if(o.editable.value!==!1&&(v.value===!0||ne.value!==!0||l["no-option"]!==void 0))return M===!0?bl():ml();o.hasPopupOpen===!0&&(o.hasPopupOpen=!1)},controlEvents:{onFocusin(t){o.onControlFocusin(t)},onFocusout(t){o.onControlFocusout(t,()=>{Re(),_e()})},onClick(t){if(xe(t),M!==!0&&a.value===!0){_e(),I.value!==null&&I.value.focus();return}Ae(t)}},getControl:t=>{const k=fl(),m=t===!0||v.value!==!0||M!==!0;if(e.useInput===!0)k.push(vl(t,m));else if(o.editable.value===!0){const Y=m===!0?ce.value:void 0;k.push(g("input",ae(z({ref:m===!0?I:void 0,key:"d_t",class:"q-select__focus-target",id:m===!0?o.targetUid.value:void 0,readonly:!0},Y),{onKeydown:bt,onKeyup:ht,onKeypress:yt}))),m===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&k.push(g("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:St}))}if(p.value!==void 0&&e.disable!==!0&&De.value.length>0){const Y=De.value.map(Z=>g("option",{value:Z,selected:!0}));k.push(g("select",{class:"hidden",name:p.value,multiple:e.multiple},Y))}const O=e.useInput===!0||m!==!0?void 0:o.splitAttrs.attributes.value;return g("div",z({class:"q-field__native row items-center"},O),k)},getInnerAppend:()=>e.loading!==!0&&h.value!==!0&&e.hideDropdownIcon!==!0?[g(Be,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:He.value})]:null}),ft(o)}});const Gn=Tl("products",{state:()=>({products:[]}),getters:{get(e){return e.products}},actions:{async fetch(){this.products=await un("products")||[]},async add(e){const l=await rn("products",e);l!=null&&l.id&&this.products.push(l)}}});export{Xn as Q,Jn as a,Bn as b,En as c,nl as d,Wn as e,Yn as f,Gn as u};
