import{g as l,a as n,r as N,Q as t,w as S}from"./api.a00043cf.js";import{Q as s,a as D,b as H}from"./QLayout.7c51c83b.js";import{Q as a}from"./QBtn.6f9b56ae.js";import{Q as d,a as u}from"./QItemSection.9e2f8bf5.js";import{Q as c}from"./QCard.3b296f8d.js";import{Q as f}from"./QPage.f25ea12e.js";import{_ as p,d as m,E as o,e as i,f as I,j as B,h as E,F as h,k as e,l as g}from"./index.520fd091.js";import"./QIcon.acf7d2ae.js";import"./scroll.a291fc9c.js";import"./use-dark.133168d9.js";var w="/assets/google.d7de2511.png",_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0CAYAAADL1t+KAAAACXBIWXMAAAWJAAAFiQFtaJ36AAAIVElEQVR4nO3YwUlDURRF0RvJyIE4twJn6SC2oJXYgh1YSToQtADBIixA58K3BcEEfjZrNXDu6G14m+/7m2WAc/J2dfi8O+XA0/vt68zsT7kBHNfFCm4AAP5J0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgYDszbyu4A/i7j8gGcESbZVlWcAYA8B++3AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIGC7OXy9ruAO4O8+lofrx1MO/LxcPs/M7pQbwHFtZ2a/gjuAddl5G+C8+HIHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4BzNzO/CekY73UckHAAAAAASUVORK5CYII=",$="/assets/twitter.a276078b.png";const v="61d24c350fa4c13f8be56efd",k="5f77ec4dc32d5e00177073f4",U="5f7a64ecd0540a43a42cf768",y="https://api.unified.to/",C=`?success_redirect=${window.location.href}`,b=m({name:"LoginPage",data(){return{providers:[],twitterId:v,googleId:k,microsoftId:U,authUrl:y,authPostUrl:C}},methods:{click(A){window.location.href=A},async authorizing(){if(this.$route.query.jwt){const A=this.$route.query.jwt,Q=await l("users/jwt",{jwt:A});if(Q&&Q.token)return o().setToken(Q.token),await n(Q),o().setUser(Q),await this.$router.push({path:"/app"}),!0;await this.$router.push({path:"/login"})}},async load(){var A;if(!await this.authorizing()){if(o().token){await this.$router.push({path:"/app"});return}this.providers=await N(`https://api.unified.to/auth/${S}?success_redirect=${window.location.href}`)||[],this.providers=(A=this.providers)==null?void 0:A.filter(Q=>["google","twitter","microsoft"].indexOf(Q.id)!==-1)}}},async mounted(){await this.load()}}),q=e("h5",null,"Sign-In",-1),O=g(" If this is your first time, then a new account will be created "),z=e("img",{src:w},null,-1),P=g(" Google "),V=e("img",{src:_},null,-1),j=g(" Microsoft "),G=e("img",{src:$},null,-1),Y=g(" Twitter ");function J(A,Q,L,F,R,X){return i(),I(H,{class:"login-page bg-image"},{default:B(()=>[E(D,null,{default:B(()=>[E(f,{class:"flex flex-center"},{default:B(()=>[A.providers&&A.providers.length?(i(),I(c,{key:0,class:"bg-transparent no-border no-shadow"},{default:B(()=>[E(d,null,{default:B(()=>[E(u,{class:"text-white"},{default:B(()=>[E(t,null,{default:B(()=>[q]),_:1}),E(t,null,{default:B(()=>[O]),_:1}),E(t,{class:"q-pt-lg"},{default:B(()=>[E(a,{ripple:"",class:"text-grey-9 q-mr-md",color:"white",onClick:Q[0]||(Q[0]=r=>A.click(`${A.authUrl}auth/${A.googleId}/login${A.authPostUrl}`))},{default:B(()=>[E(s,{square:"",size:"32px",class:"q-mr-md"},{default:B(()=>[z]),_:1}),P]),_:1}),E(a,{class:"text-grey-9 q-mr-md",color:"white",ripple:"",onClick:Q[1]||(Q[1]=r=>A.click(`${A.authUrl}auth/${A.microsoftId}/login${A.authPostUrl}`))},{default:B(()=>[E(s,{square:"",size:"32px",class:"q-mr-md"},{default:B(()=>[V]),_:1}),j]),_:1}),E(a,{class:"text-grey-9 q-mr-md",color:"white",ripple:"",onClick:Q[2]||(Q[2]=r=>A.click(`${A.authUrl}auth/${A.twitterId}/login${A.authPostUrl}`))},{default:B(()=>[E(s,{square:"",size:"32px",class:"q-mr-md"},{default:B(()=>[G]),_:1}),Y]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1})]),_:1})}var eA=p(b,[["render",J]]);export{eA as default};
