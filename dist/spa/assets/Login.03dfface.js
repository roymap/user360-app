var w=Object.defineProperty,_=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var u=(A,B,e)=>B in A?w(A,B,{enumerable:!0,configurable:!0,writable:!0,value:e}):A[B]=e,I=(A,B)=>{for(var e in B||(B={}))b.call(B,e)&&u(A,e,B[e]);if(d)for(var e of d(B))$.call(B,e)&&u(A,e,B[e]);return A},N=(A,B)=>_(A,v(B));import{c as m,h}from"./render.2fdab938.js";import{h as a,j as p,k,_ as q,A as y,N as S,a as D,d as c,e as Q,f as E,O as C,E as s,F as r}from"./index.93aafbe4.js";import{u as U,a as O,g as H,b as x,Q as P,c as j,d as o,w as f}from"./api.456872d0.js";import{Q as i}from"./QBtn.50936177.js";import{Q as z}from"./QPage.b3188e66.js";import{Q as L,a as V}from"./QLayout.c5c19f7c.js";import"./QIcon.944d1d71.js";import"./scroll.3fc42066.js";var l=m({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(A,{slots:B}){const e=a(()=>parseInt(A.lines,10)),t=a(()=>"q-item__label"+(A.overline===!0?" q-item__label--overline text-overline":"")+(A.caption===!0?" q-item__label--caption text-caption":"")+(A.header===!0?" q-item__label--header":"")+(e.value===1?" ellipsis":"")),g=a(()=>A.lines!==void 0&&e.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":e.value}:null);return()=>p("div",{style:g.value,class:t.value},h(B.default))}}),Y=m({name:"QCard",props:N(I({},U),{tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean}),setup(A,{slots:B}){const e=k(),t=O(A,e.proxy.$q),g=a(()=>"q-card"+(t.value===!0?" q-card--dark q-dark":"")+(A.bordered===!0?" q-card--bordered":"")+(A.square===!0?" q-card--square no-border-radius":"")+(A.flat===!0?" q-card--flat no-shadow":""));return()=>p(A.tag,{class:g.value},h(B.default))}}),J="/assets/google.d7de2511.png",F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0CAYAAADL1t+KAAAACXBIWXMAAAWJAAAFiQFtaJ36AAAIVElEQVR4nO3YwUlDURRF0RvJyIE4twJn6SC2oJXYgh1YSToQtADBIixA58K3BcEEfjZrNXDu6G14m+/7m2WAc/J2dfi8O+XA0/vt68zsT7kBHNfFCm4AAP5J0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgYDszbyu4A/i7j8gGcESbZVlWcAYA8B++3AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIGC7OXy9ruAO4O8+lofrx1MO/LxcPs/M7pQbwHFtZ2a/gjuAddl5G+C8+HIHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4BzNzO/CekY73UckHAAAAAASUVORK5CYII=",G="/assets/twitter.a276078b.png";const R="61d24c350fa4c13f8be56efd",X="5f77ec4dc32d5e00177073f4",T="5f7a64ecd0540a43a42cf768",K="https://api.unified.to/",M=`?success_redirect=${window.location.href}`,W=y({name:"LoginPage",data(){return{providers:[],twitterId:R,googleId:X,microsoftId:T,authUrl:K,authPostUrl:M}},methods:{click(A){window.location.href=A},async authorizing(){if(this.$route.query.jwt){const A=this.$route.query.jwt,B=await H(`unified/jwtauth/${f}?jwt=${A}`);if(B&&B.token)return S().setToken(B.token),await x(),await this.$router.push({path:"/app"}),!0;await this.$router.push({path:"/login"})}},async load(){var A;if(!await this.authorizing()){if(S().token){await this.$router.push({path:"/app"});return}this.providers=await H(`auth/${f}?success_redirect=${window.location.href}`)||[],this.providers=(A=this.providers)==null?void 0:A.filter(B=>["google","twitter","microsoft"].indexOf(B.id)!==-1)}}},async mounted(){await this.load()}}),Z=s("h5",null,"Sign-In",-1),AA=r(" If this is your first time, then a new account will be created "),BA=s("img",{src:J},null,-1),eA=r(" Google "),QA=s("img",{src:F},null,-1),EA=r(" Microsoft "),tA=s("img",{src:G},null,-1),gA=r(" Twitter ");function aA(A,B,e,t,g,sA){return D(),c(V,{class:"login-page bg-image"},{default:Q(()=>[E(L,null,{default:Q(()=>[E(z,{class:"flex flex-center"},{default:Q(()=>[A.providers&&A.providers.length?(D(),c(Y,{key:0,class:"bg-transparent no-border no-shadow"},{default:Q(()=>[E(P,null,{default:Q(()=>[E(j,{class:"text-white"},{default:Q(()=>[E(l,null,{default:Q(()=>[Z]),_:1}),E(l,null,{default:Q(()=>[AA]),_:1}),E(l,{class:"q-pt-lg"},{default:Q(()=>[E(i,{ripple:"",class:"text-grey-9 q-mr-md",color:"white",onClick:B[0]||(B[0]=n=>A.click(`${A.authUrl}auth/${A.googleId}/login${A.authPostUrl}`))},{default:Q(()=>[E(o,{square:"",size:"32px",class:"q-mr-md"},{default:Q(()=>[BA]),_:1}),eA]),_:1}),E(i,{class:"text-grey-9 q-mr-md",color:"white",ripple:"",onClick:B[1]||(B[1]=n=>A.click(`${A.authUrl}auth/${A.microsoftId}/login${A.authPostUrl}`))},{default:Q(()=>[E(o,{square:"",size:"32px",class:"q-mr-md"},{default:Q(()=>[QA]),_:1}),EA]),_:1}),E(i,{class:"text-grey-9 q-mr-md",color:"white",ripple:"",onClick:B[2]||(B[2]=n=>A.click(`${A.authUrl}auth/${A.twitterId}/login${A.authPostUrl}`))},{default:Q(()=>[E(o,{square:"",size:"32px",class:"q-mr-md"},{default:Q(()=>[tA]),_:1}),gA]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1})]),_:1})}var SA=q(W,[["render",aA]]);export{SA as default};
