import{u as d,Q as u,a as r}from"./products.a5844b38.js";import{Q as l}from"./QBtn.23d8d9d3.js";import{Q as p}from"./QCard.d6112ac9.js";import{Q as h}from"./QPage.244c0db2.js";import{u as m}from"./index.3bb66fa0.js";import{_ as c,d as g,e as f,f as w,j as n,F as B,k as s,Y as A,h as i}from"./index.9f6bd162.js";import"./QIcon.8894f451.js";import"./position-engine.2316e281.js";import"./scroll.80f95894.js";import"./use-dark.d8cd9690.js";import"./use-prevent-scroll.bbec5b43.js";import"./QItemSection.5170516e.js";import"./api.33e9d75d.js";const V=[{name:"IAB FullBanner (468x60)",width:468,height:60},{name:"IAB Skyscraper (120x600)",width:120,height:600},{name:"IAB Leaderboard (728x90)",width:728,height:90},{name:"IAB Button1 (120x90)",width:120,height:90},{name:"IAB Button2 (120x60)",width:120,height:60},{name:"IAB HalfBanner (234x60)",width:234,height:60},{name:"IAB MicroBar (88x31)",width:88,height:31},{name:"IAB SquareButton (125x125)",width:125,height:125},{name:"IAB VerticalBanner (120x240)",width:120,height:240},{name:"IAB Rectangle (180x150)*",width:180,height:150},{name:"IAB MediumRectangle (300x250)*",width:300,height:250},{name:"IAB LargeRectangle (336x280)",width:336,height:280},{name:"IAB VerticalRectangle (240x400)",width:240,height:400},{name:"IAB SquarePop-up (250x250)",width:250,height:250},{name:"IAB WideSkyscraper (160x600)*",width:160,height:600},{name:"IAB Pop-Under (720x300)",width:720,height:300},{name:"IAB 3:1 Rectangle (300x100)",width:300,height:100}],S=["CPM","CPC","CPD"],I=g({name:"ProductEditPage",components:{},setup(){return m({title:"DirectAds"}),{}},data(){return{TAGS:[],PricingModels:S,SIZES:V.map(e=>({label:e.name,value:{width:e.width,height:e.height}})),filter:"",products:d().products,product:void 0}},methods:{async save(){this.product&&(await d().add(this.product),this.$router.push("/app/products"))},createTag(e,t){this.TAGS.indexOf(e)===-1&&this.TAGS.push(e),t(e,"add-unique")},load(){if(console.log("product-edit",this.$route.params.id),this.$route.params.id==="new"){this.product={name:"new ad product",size:{width:728,height:90},pricingModel:"CPM",price:10};return}else if(!this.$route.params.id)return this.$router.push("/app/products");const e=this.$route.params.id;if(this.product=this.products.find(t=>t.id===e),!this.product){this.$router.push("/app/products");return}console.log("product-edit-object",this.product),this.TAGS=[],this.products.forEach(t=>{(t.tags||[]).forEach(a=>{this.TAGS.indexOf(a)===-1&&this.TAGS.push(a)})})}},mounted(){console.log("product-edit-mounted"),this.load()}}),P={class:"q-mt-lg"};function b(e,t,a,$,C,M){return e.product?(f(),w(h,{key:0},{default:n(()=>[s("h1",null,A(e.product.id?"Edit":"New")+" Product",1),i(p,{class:"q-pa-md"},{default:n(()=>[i(u,{autogrow:"",modelValue:e.product.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.product.name=o),label:"Product name"},null,8,["modelValue"]),i(r,{"emit-value":"","map-options":"",options:e.SIZES,label:"Size",modelValue:e.product.size,"onUpdate:modelValue":t[1]||(t[1]=o=>e.product.size=o)},null,8,["options","modelValue"]),i(r,{options:e.PricingModels,label:"Pricing Model",modelValue:e.product.pricingModel,"onUpdate:modelValue":t[2]||(t[2]=o=>e.product.pricingModel=o)},null,8,["options","modelValue"]),i(u,{rules:[o=>o>0||"Value must be greater than $0"],prefix:"$",type:"number",modelValue:e.product.price,"onUpdate:modelValue":t[3]||(t[3]=o=>e.product.price=o),modelModifiers:{number:!0},label:"Price"},null,8,["rules","modelValue"]),i(r,{"use-input":"",onNewValue:e.createTag,modelValue:e.product.tags,"onUpdate:modelValue":t[4]||(t[4]=o=>e.product.tags=o),multiple:"",options:e.TAGS,"use-chips":"","stack-label":"",label:"Tags"},null,8,["onNewValue","modelValue","options"]),s("div",P,[i(l,{onClick:e.save,color:"primary",label:e.product.id?"Update":"Save"},null,8,["onClick","label"]),i(l,{label:"Cancel",class:"float-right",to:"/app/products"})])]),_:1})]),_:1})):B("",!0)}var D=c(I,[["render",b]]);export{D as default};
